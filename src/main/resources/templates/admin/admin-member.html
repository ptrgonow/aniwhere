<!DOCTYPE html>
<div th:replace="~{include/admin-header :: header}"></div>
<div th:replace="~{admin/admin-side :: side}"></div>
<link rel="stylesheet" href="/css/admin-member.css">
<body>

<div class="body-wrapper">
    <div class="container-fluid">
        <div class="search_container">
            <p class="search_title"> 찾으시는 회원의 아이디를 검색하세요</p>
            <input class="search_input" type="text" placeholder="Search"><i class="fa-solid fa-magnifying-glass"></i>
        </div>

        <div class="mem-view">
            <p class="sel-text">정보 누락 회원 조회</p>
            <select class="empty-info" id="empty-info">
                <option value="all">회원 전체 보기</option>
                <option value="address">주소</option>
                <option value="phone">전화번호</option>
            </select>
        </div>

        <table class="table table-striped table-hover rounded-5 shadow">
            <thead class="table-primary">
            <tr>
                <th><input type="checkbox" class="allcheck"></th>
                <th>No</th>
                <th>아이디</th>
                <th>이름</th>
                <th>이메일</th>
                <th>(우편번호) 주소</th>
                <th>전화번호</th>
                <th>가입일</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="member, status : ${members}">
                <td><input type="checkbox" name="mem=check"></td>
                <td th:text="${(currentPage - 1) * limit + status.index + 1}"></td>
                <td>
                    <span th:text="${#strings.abbreviate(member.userId, 10)}" class="user-id"></span>
                </td>
                <td th:text="${member.userName}"></td>
                <td th:text="${member.email}"></td>
                <td th:text="${member.address} + ' ' + ${member.detailAddress}"></td>
                <td th:text="${member.phone}"></td>
                <td th:text="${member.createdAt.substring(0,10)}"></td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="container-fluid page">
        <div class="pagination" th:if="${totalPages > 1}">
            <a th:href="@{/admin/member(offset=${offset - limit < 0 ? 0 : offset - limit}, limit=${limit})}" th:if="${currentPage > 1}">
                <i class="fa fa-angle-left"></i>
            </a>
            <span th:each="i : ${#numbers.sequence(1, totalPages)}">
                    <a th:href="@{/admin/member(offset=${(i - 1) * limit}, limit=${limit})}" th:text="${i}" th:classappend="${i == currentPage} ? 'current' : ''"></a>
                </span>
            <a th:href="@{/admin/member(offset=${offset + limit}, limit=${limit})}" th:if="${currentPage < totalPages}">
                <i class="fa fa-angle-right"></i>
            </a>
        </div>
    </div>
</div>
<div th:replace="~{include/admin-footer :: footer}"></div>
<script src="/js/admin-member.js"></script>
</body>
